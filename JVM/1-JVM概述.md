# JVM概述

## 跨平台兼容性
**C**

不同的平台开发各自特定的编译器，将c语言翻译未底层平台相关的硬件指令
但是涉及系统调用是，需要调用不同的系统api，并且c程序需要引用不同的头文件

**Java**

通过中间语言实现兼容，被编译后生成中间语言，中间语言指令由虚拟机负责解释和执行

## 中间语言 => 机器码

### 通过C程序翻译
存在的问题：效率低下
### 直接翻译为机器码
要让cpu执行一段代码，只需将CS:IP段寄存器指向到代码段入口处即可（CS寄存器：段地址；IP寄存器：偏移地址）
将中间语言指令直接翻译为机器码，通过C语言提供的语法糖直接修改CS：IP寄存器，指向这段机器码
存在的问题：翻译后的机器码，比直接编写的机器码，多出几个数量级的指令
### 本地编译
为了提升性能，JVM提供了一种机制，能够将中间语言（字节码）直接编译为本地机器指令

## JVM指令
### 数据交换指令
jvm内存分为操作数栈，局部变量表，Java堆，常量池，方法区， 数据交换指令支持数据在这些内存区域之间的传送和交换
### 函数调用指令
invokervirtual, invokeinterface, invokespecial, invokestatic, return等
### 运算指令集
iadd，isub，fadd，ddiv
### 控制转移指令
if else，switch，do while，for， foreach，return，break，continue
### 对象创建与类型转换指令
new
